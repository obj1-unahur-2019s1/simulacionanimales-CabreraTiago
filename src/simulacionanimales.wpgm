import wollok.game.*
import animales.*

program animales {
	
//	ConfiguraciÃ³n de pantalla
	game.width(10)
	game.height(10)

	/*
	 * Agregamos personajes
	 */ 
	var animalActual = new Vaca()
//	var animalActual = new Gallina()
	game.addVisual(animalActual)

	/*
	 * Configuraciones de teclado
	 */
	 keyboard.c().onPressDo({ => animalActual.comer(12) })
	 keyboard.p().onPressDo({
	 	game.say(animalActual, animalActual.peso().toString())
	 })
	 
	 keyboard.b().onPressDo({ => animalActual.beber()})
	 
	 keyboard.t().onPressDo({
	 	if (animalActual.tieneSed()) {
	 		game.say(animalActual, "Tengo sed")
	 	} else {
	 		game.say(animalActual, "No tengo sed")
	 	}
	 })
	 
	 keyboard.up().onPressDo({ animalActual.subir() })
	 keyboard.down().onPressDo({ => animalActual.position(animalActual.position().down(1)) })
	 keyboard.left().onPressDo({ => animalActual.position(animalActual.position().left(1)) })
	 keyboard.right().onPressDo({ => animalActual.position(animalActual.position().right(1)) })
	 
	 
	 keyboard.down().onPressDo({ => animalActual.position().up(1)})
	 
//	 whenCollideDo para manejar las colisiones
//	 game.whenCollideDo(comedero, { animal =>
//	 	animal.position(animal.position().down(1))
//	 	if (comedero.puedeAtender)
//	 	
//	 })
	 
	 
	/*
	 * Arrancamos el juego
	 */
	 game.start()
	 
}